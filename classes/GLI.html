<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>GLI</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" />
    <script src="../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Module</span> 
            GLI 
            
        </h1>
        <ul class="files">
            
            <li><a href="../files/lib/gli/command_rb.html">lib/gli/command.rb</a></li>
            
            <li><a href="../files/lib/gli/command_line_token_rb.html">lib/gli/command_line_token.rb</a></li>
            
            <li><a href="../files/lib/gli/flag_rb.html">lib/gli/flag.rb</a></li>
            
            <li><a href="../files/lib/gli/switch_rb.html">lib/gli/switch.rb</a></li>
            
            <li><a href="../files/lib/gli_rb.html">lib/gli.rb</a></li>
            
            <li><a href="../files/lib/gli_version_rb.html">lib/gli_version.rb</a></li>
            
            <li><a href="../files/lib/support/help_rb.html">lib/support/help.rb</a></li>
            
            <li><a href="../files/lib/support/initconfig_rb.html">lib/support/initconfig.rb</a></li>
            
            <li><a href="../files/lib/support/rdoc_rb.html">lib/support/rdoc.rb</a></li>
            
            <li><a href="../files/lib/support/scaffold_rb.html">lib/support/scaffold.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    
    <div class="description">
        <p>
A means to define and parse a command line interface that works as
Git&#8217;s does, in that you specify global options, a command name,
command specific options, and then command arguments.
</p>

    </div>
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>A</dt>
        <dd>
            <ul>
                
                <li><a href="#M000035">arg_name</a></li>
                
            </ul>
        </dd>
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M000055">c</a>,</li>
                
                <li><a href="#M000056">clear_nexts</a>,</li>
                
                <li><a href="#M000040">command</a>,</li>
                
                <li><a href="#M000059">commands</a>,</li>
                
                <li><a href="#M000039">config_file</a>,</li>
                
                <li><a href="#M000046">copy_options_to_aliased_versions</a>,</li>
                
                <li><a href="#M000047">copy_options_to_aliases</a></li>
                
            </ul>
        </dd>
    
        <dt>D</dt>
        <dd>
            <ul>
                
                <li><a href="#M000052">d</a>,</li>
                
                <li><a href="#M000068">default_command_options</a>,</li>
                
                <li><a href="#M000036">default_value</a>,</li>
                
                <li><a href="#M000033">desc</a></li>
                
            </ul>
        </dd>
    
        <dt>F</dt>
        <dd>
            <ul>
                
                <li><a href="#M000053">f</a>,</li>
                
                <li><a href="#M000069">find_command</a>,</li>
                
                <li><a href="#M000051">find_non_flag_index</a>,</li>
                
                <li><a href="#M000037">flag</a>,</li>
                
                <li><a href="#M000057">flags</a></li>
                
            </ul>
        </dd>
    
        <dt>L</dt>
        <dd>
            <ul>
                
                <li><a href="#M000034">long_desc</a></li>
                
            </ul>
        </dd>
    
        <dt>O</dt>
        <dd>
            <ul>
                
                <li><a href="#M000043">on_error</a></li>
                
            </ul>
        </dd>
    
        <dt>P</dt>
        <dd>
            <ul>
                
                <li><a href="#M000048">parse_config</a>,</li>
                
                <li><a href="#M000050">parse_options</a>,</li>
                
                <li><a href="#M000060">parse_options_helper</a>,</li>
                
                <li><a href="#M000042">post</a>,</li>
                
                <li><a href="#M000041">pre</a>,</li>
                
                <li><a href="#M000049">program_name</a></li>
                
            </ul>
        </dd>
    
        <dt>R</dt>
        <dd>
            <ul>
                
                <li><a href="#M000032">reset</a>,</li>
                
                <li><a href="#M000045">run</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M000054">s</a>,</li>
                
                <li><a href="#M000038">switch</a>,</li>
                
                <li><a href="#M000058">switches</a></li>
                
            </ul>
        </dd>
    
        <dt>V</dt>
        <dd>
            <ul>
                
                <li><a href="#M000071">verify_unused</a>,</li>
                
                <li><a href="#M000044">version</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    
    <div class="sectiontitle">Classes and Modules</div>
    <ul>
        
        <li><span class="type">CLASS</span> <a href="GLI/Command.html">GLI::Command</a></li>
        
        <li><span class="type">CLASS</span> <a href="GLI/CommandLineToken.html">GLI::CommandLineToken</a></li>
        
        <li><span class="type">CLASS</span> <a href="GLI/DefaultHelpCommand.html">GLI::DefaultHelpCommand</a></li>
        
        <li><span class="type">CLASS</span> <a href="GLI/Flag.html">GLI::Flag</a></li>
        
        <li><span class="type">CLASS</span> <a href="GLI/InitConfig.html">GLI::InitConfig</a></li>
        
        <li><span class="type">CLASS</span> <a href="GLI/RDocCommand.html">GLI::RDocCommand</a></li>
        
        <li><span class="type">CLASS</span> <a href="GLI/Scaffold.html">GLI::Scaffold</a></li>
        
        <li><span class="type">CLASS</span> <a href="GLI/Switch.html">GLI::Switch</a></li>
        
    </ul>
    

    
    <div class="sectiontitle">Constants</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class="attr-name">VERSION</td>
            <td>=</td>
            <td class="attr-value">'1.2.0'</td>
        </tr>
        
        
    </table>
    

    

    
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M000035">
                    
                    <a name="M000035"></a><b>arg_name</b>(name)
                    
                </div>
                
                <div class="description">
                  <p>
describe the argument name of the next flag
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000035_source')" id="l_M000035_source">show</a>
                        
                        | <a href="http://github.com/davetron5000/gli/blob/268917d59a39f048a08c445f1ebcc26f18cc8833/lib/gli.rb#L43" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000035_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/gli.rb, line 43</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">arg_name</span>(<span class="ruby-identifier">name</span>); <span class="ruby-ivar">@@next_arg_name</span> = <span class="ruby-identifier">name</span>; <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000055">
                    
                    <a name="M000055"></a><b>c</b>(*names)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="GLI.html#M000040">command</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000056">
                    
                    <a name="M000056"></a><b>clear_nexts</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000056_source')" id="l_M000056_source">show</a>
                        
                        | <a href="http://github.com/davetron5000/gli/blob/268917d59a39f048a08c445f1ebcc26f18cc8833/lib/gli.rb#L221" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000056_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/gli.rb, line 221</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">clear_nexts</span>
    <span class="ruby-ivar">@@next_desc</span> = <span class="ruby-keyword kw">nil</span>
    <span class="ruby-ivar">@@next_arg_name</span> = <span class="ruby-keyword kw">nil</span>
    <span class="ruby-ivar">@@next_default_value</span> = <span class="ruby-keyword kw">nil</span>
    <span class="ruby-ivar">@@next_long_desc</span> = <span class="ruby-keyword kw">nil</span>
  <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000040">
                    
                    <a name="M000040"></a><b>command</b>(*names)
                    
                </div>
                
                <div class="description">
                  <p>
Define a command.
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="GLI.html#M000055">c</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000040_source')" id="l_M000040_source">show</a>
                        
                        | <a href="http://github.com/davetron5000/gli/blob/268917d59a39f048a08c445f1ebcc26f18cc8833/lib/gli.rb#L79" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000040_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/gli.rb, line 79</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">command</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">names</span>)
    <span class="ruby-identifier">command</span> = <span class="ruby-constant">Command</span>.<span class="ruby-identifier">new</span>([<span class="ruby-identifier">names</span>].<span class="ruby-identifier">flatten</span>,<span class="ruby-ivar">@@next_desc</span>,<span class="ruby-ivar">@@next_arg_name</span>,<span class="ruby-ivar">@@next_long_desc</span>)
    <span class="ruby-identifier">commands</span>[<span class="ruby-identifier">command</span>.<span class="ruby-identifier">name</span>] = <span class="ruby-identifier">command</span>
    <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">command</span>
    <span class="ruby-identifier">clear_nexts</span>
  <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000059">
                    
                    <a name="M000059"></a><b>commands</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000059_source')" id="l_M000059_source">show</a>
                        
                        | <a href="http://github.com/davetron5000/gli/blob/268917d59a39f048a08c445f1ebcc26f18cc8833/lib/gli.rb#L232" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000059_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/gli.rb, line 232</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">commands</span>; <span class="ruby-ivar">@@commands</span> <span class="ruby-operator">||=</span> {}; <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000039">
                    
                    <a name="M000039"></a><b>config_file</b>(filename)
                    
                </div>
                
                <div class="description">
                  <p>
Sets the config file. If not an absolute path sets the path to the
user&#8217;s home directory
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000039_source')" id="l_M000039_source">show</a>
                        
                        | <a href="http://github.com/davetron5000/gli/blob/268917d59a39f048a08c445f1ebcc26f18cc8833/lib/gli.rb#L68" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000039_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/gli.rb, line 68</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">config_file</span>(<span class="ruby-identifier">filename</span>)
    <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">filename</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/^\//</span>
      <span class="ruby-ivar">@@config_file</span> = <span class="ruby-identifier">filename</span>
    <span class="ruby-keyword kw">else</span>
      <span class="ruby-ivar">@@config_file</span> = <span class="ruby-constant">Etc</span>.<span class="ruby-identifier">getpwuid</span>.<span class="ruby-identifier">dir</span> <span class="ruby-operator">+</span> <span class="ruby-value str">'/'</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">filename</span>
    <span class="ruby-keyword kw">end</span>
    <span class="ruby-identifier">commands</span>[<span class="ruby-identifier">:initconfig</span>] = <span class="ruby-constant">InitConfig</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@@config_file</span>)
    <span class="ruby-ivar">@@config_file</span>
  <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000046">
                    
                    <a name="M000046"></a><b>copy_options_to_aliased_versions</b>(global_options,command,options)
                    
                </div>
                
                <div class="description">
                  <p>
Copies all options in both global_options and options to keys for the
aliases of those flags. For example, if a flag works with either -f or
&#8212;flag, this will copy the value from [:f] to [:flag] to allow the
user to access the options by any alias
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000046_source')" id="l_M000046_source">show</a>
                        
                        | <a href="http://github.com/davetron5000/gli/blob/268917d59a39f048a08c445f1ebcc26f18cc8833/lib/gli.rb#L145" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000046_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/gli.rb, line 145</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">copy_options_to_aliased_versions</span>(<span class="ruby-identifier">global_options</span>,<span class="ruby-identifier">command</span>,<span class="ruby-identifier">options</span>)
    <span class="ruby-identifier">copy_options_to_aliases</span>(<span class="ruby-identifier">global_options</span>,<span class="ruby-keyword kw">self</span>)
    <span class="ruby-identifier">copy_options_to_aliases</span>(<span class="ruby-identifier">options</span>,<span class="ruby-identifier">command</span>)
  <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000047">
                    
                    <a name="M000047"></a><b>copy_options_to_aliases</b>(options,gli_like)
                    
                </div>
                
                <div class="description">
                  <p>
For each option in options, copies its value to keys for the aliases of the
flags or switches in gli_like
</p>
<p>
options - Hash of options parsed from command line; this is an I/O param
gli_like - Object resonding to flags and switches in the same way that <a
href="GLI.html">GLI</a> or a <a href="GLI/Command.html">Command</a>
instance do
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000047_source')" id="l_M000047_source">show</a>
                        
                        | <a href="http://github.com/davetron5000/gli/blob/268917d59a39f048a08c445f1ebcc26f18cc8833/lib/gli.rb#L155" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000047_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/gli.rb, line 155</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">copy_options_to_aliases</span>(<span class="ruby-identifier">options</span>,<span class="ruby-identifier">gli_like</span>)
    <span class="ruby-identifier">new_options</span> = {}
    <span class="ruby-identifier">options</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>,<span class="ruby-identifier">value</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">gli_like</span>.<span class="ruby-identifier">flags</span>[<span class="ruby-identifier">key</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">gli_like</span>.<span class="ruby-identifier">flags</span>[<span class="ruby-identifier">key</span>].<span class="ruby-identifier">aliases</span>
        <span class="ruby-identifier">gli_like</span>.<span class="ruby-identifier">flags</span>[<span class="ruby-identifier">key</span>].<span class="ruby-identifier">aliases</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">alias_name</span><span class="ruby-operator">|</span>
          <span class="ruby-identifier">new_options</span>[<span class="ruby-identifier">alias_name</span>] = <span class="ruby-identifier">value</span>
        <span class="ruby-keyword kw">end</span>
      <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">gli_like</span>.<span class="ruby-identifier">switches</span>[<span class="ruby-identifier">key</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">gli_like</span>.<span class="ruby-identifier">switches</span>[<span class="ruby-identifier">key</span>].<span class="ruby-identifier">aliases</span>
        <span class="ruby-identifier">gli_like</span>.<span class="ruby-identifier">switches</span>[<span class="ruby-identifier">key</span>].<span class="ruby-identifier">aliases</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">alias_name</span><span class="ruby-operator">|</span>
          <span class="ruby-identifier">new_options</span>[<span class="ruby-identifier">alias_name</span>] = <span class="ruby-identifier">value</span>
        <span class="ruby-keyword kw">end</span>
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span>
    <span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge!</span>(<span class="ruby-identifier">new_options</span>)
  <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000052">
                    
                    <a name="M000052"></a><b>d</b>(description)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="GLI.html#M000033">desc</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000068">
                    
                    <a name="M000068"></a><b>default_command_options</b>(command,command_configs)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000068_source')" id="l_M000068_source">show</a>
                        
                        | <a href="http://github.com/davetron5000/gli/blob/268917d59a39f048a08c445f1ebcc26f18cc8833/lib/gli.rb#L349" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000068_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/gli.rb, line 349</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">default_command_options</span>(<span class="ruby-identifier">command</span>,<span class="ruby-identifier">command_configs</span>)
    <span class="ruby-identifier">options</span> = (<span class="ruby-identifier">command_configs</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">command_configs</span>[<span class="ruby-identifier">command</span>.<span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_sym</span>]) <span class="ruby-operator">||</span> {}
  <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000036">
                    
                    <a name="M000036"></a><b>default_value</b>(val)
                    
                </div>
                
                <div class="description">
                  <p>
set the default value of the next flag
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000036_source')" id="l_M000036_source">show</a>
                        
                        | <a href="http://github.com/davetron5000/gli/blob/268917d59a39f048a08c445f1ebcc26f18cc8833/lib/gli.rb#L46" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000036_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/gli.rb, line 46</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">default_value</span>(<span class="ruby-identifier">val</span>); <span class="ruby-ivar">@@next_default_value</span> = <span class="ruby-identifier">val</span>; <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000033">
                    
                    <a name="M000033"></a><b>desc</b>(description)
                    
                </div>
                
                <div class="description">
                  <p>
describe the next switch, flag, or command. This should be a short,
one-line description
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="GLI.html#M000052">d</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000033_source')" id="l_M000033_source">show</a>
                        
                        | <a href="http://github.com/davetron5000/gli/blob/268917d59a39f048a08c445f1ebcc26f18cc8833/lib/gli.rb#L36" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000033_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/gli.rb, line 36</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">desc</span>(<span class="ruby-identifier">description</span>); <span class="ruby-ivar">@@next_desc</span> = <span class="ruby-identifier">description</span>; <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000053">
                    
                    <a name="M000053"></a><b>f</b>(*names)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="GLI.html#M000037">flag</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000069">
                    
                    <a name="M000069"></a><b>find_command</b>(name)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000069_source')" id="l_M000069_source">show</a>
                        
                        | <a href="http://github.com/davetron5000/gli/blob/268917d59a39f048a08c445f1ebcc26f18cc8833/lib/gli.rb#L353" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000069_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/gli.rb, line 353</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">find_command</span>(<span class="ruby-identifier">name</span>)
    <span class="ruby-identifier">sym</span> = <span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_sym</span>
    <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">commands</span>[<span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_sym</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">commands</span>[<span class="ruby-identifier">sym</span>]
    <span class="ruby-identifier">commands</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">command_name</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">command</span> = <span class="ruby-identifier">commands</span>[<span class="ruby-identifier">command_name</span>]
      <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">command</span> <span class="ruby-keyword kw">if</span> (<span class="ruby-identifier">command</span>.<span class="ruby-identifier">aliases</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">command</span>.<span class="ruby-identifier">aliases</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">sym</span>))
    <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">nil</span>
  <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000051">
                    
                    <a name="M000051"></a><b>find_non_flag_index</b>(args)
                    
                </div>
                
                <div class="description">
                  <p>
Finds the index of the first non-flag argument or -1 if there wasn&#8217;t
one.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000051_source')" id="l_M000051_source">show</a>
                        
                        | <a href="http://github.com/davetron5000/gli/blob/268917d59a39f048a08c445f1ebcc26f18cc8833/lib/gli.rb#L208" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000051_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/gli.rb, line 208</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">find_non_flag_index</span>(<span class="ruby-identifier">args</span>)
    <span class="ruby-identifier">args</span>.<span class="ruby-identifier">each_index</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">i</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">args</span>[<span class="ruby-identifier">i</span>] <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/^[^\-]/</span>;
      <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">i</span><span class="ruby-operator">-</span><span class="ruby-value">1</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">args</span>[<span class="ruby-identifier">i</span>] <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/^\-\-$/</span>;
    <span class="ruby-keyword kw">end</span>
    <span class="ruby-value">-1</span>;
  <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000037">
                    
                    <a name="M000037"></a><b>flag</b>(*names)
                    
                </div>
                
                <div class="description">
                  <p>
Create a flag, which is a switch that takes an argument
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="GLI.html#M000053">f</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000037_source')" id="l_M000037_source">show</a>
                        
                        | <a href="http://github.com/davetron5000/gli/blob/268917d59a39f048a08c445f1ebcc26f18cc8833/lib/gli.rb#L49" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000037_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/gli.rb, line 49</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">flag</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">names</span>)
    <span class="ruby-identifier">names</span> = [<span class="ruby-identifier">names</span>].<span class="ruby-identifier">flatten</span>
    <span class="ruby-identifier">verify_unused</span>(<span class="ruby-identifier">names</span>,<span class="ruby-identifier">flags</span>,<span class="ruby-identifier">switches</span>,<span class="ruby-value str">&quot;in global options&quot;</span>)
    <span class="ruby-identifier">flag</span> = <span class="ruby-constant">Flag</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">names</span>,<span class="ruby-ivar">@@next_desc</span>,<span class="ruby-ivar">@@next_arg_name</span>,<span class="ruby-ivar">@@next_default_value</span>,<span class="ruby-ivar">@@next_long_desc</span>)
    <span class="ruby-identifier">flags</span>[<span class="ruby-identifier">flag</span>.<span class="ruby-identifier">name</span>] = <span class="ruby-identifier">flag</span>
    <span class="ruby-identifier">clear_nexts</span>
  <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000057">
                    
                    <a name="M000057"></a><b>flags</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000057_source')" id="l_M000057_source">show</a>
                        
                        | <a href="http://github.com/davetron5000/gli/blob/268917d59a39f048a08c445f1ebcc26f18cc8833/lib/gli.rb#L230" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000057_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/gli.rb, line 230</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">flags</span>; <span class="ruby-ivar">@@flags</span> <span class="ruby-operator">||=</span> {}; <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000034">
                    
                    <a name="M000034"></a><b>long_desc</b>(long_desc)
                    
                </div>
                
                <div class="description">
                  <p>
Provide a longer, more detailed description. This will be reformatted and
wrapped to fit in 80 columns
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000034_source')" id="l_M000034_source">show</a>
                        
                        | <a href="http://github.com/davetron5000/gli/blob/268917d59a39f048a08c445f1ebcc26f18cc8833/lib/gli.rb#L40" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000034_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/gli.rb, line 40</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">long_desc</span>(<span class="ruby-identifier">long_desc</span>); <span class="ruby-ivar">@@next_long_desc</span> = <span class="ruby-identifier">long_desc</span>; <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000043">
                    
                    <a name="M000043"></a><b>on_error</b>(&amp;a_proc)
                    
                </div>
                
                <div class="description">
                  <p>
Define a block to run if an error occurs. The block will receive any
Exception that was caught. It should return false to avoid the built-in
error handling (which basically just prints out a message)
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000043_source')" id="l_M000043_source">show</a>
                        
                        | <a href="http://github.com/davetron5000/gli/blob/268917d59a39f048a08c445f1ebcc26f18cc8833/lib/gli.rb#L107" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000043_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/gli.rb, line 107</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">on_error</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">a_proc</span>)
    <span class="ruby-ivar">@@error_block</span> = <span class="ruby-identifier">a_proc</span>
  <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000048">
                    
                    <a name="M000048"></a><b>parse_config</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000048_source')" id="l_M000048_source">show</a>
                        
                        | <a href="http://github.com/davetron5000/gli/blob/268917d59a39f048a08c445f1ebcc26f18cc8833/lib/gli.rb#L171" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000048_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/gli.rb, line 171</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">parse_config</span>
    <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@@config_file</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-identifier">require</span> <span class="ruby-value str">'yaml'</span>
    <span class="ruby-keyword kw">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-ivar">@@config_file</span>)
      <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-ivar">@@config_file</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span> <span class="ruby-constant">YAML</span><span class="ruby-operator">::</span><span class="ruby-identifier">load</span>(<span class="ruby-identifier">f</span>) }
    <span class="ruby-keyword kw">else</span>
      {}
    <span class="ruby-keyword kw">end</span>
  <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000050">
                    
                    <a name="M000050"></a><b>parse_options</b>(args,config=nil)
                    
                </div>
                
                <div class="description">
                  <p>
Returns an array of four values:
</p>
<pre>
 * global options (as a Hash)
 * Command
 * command options (as a Hash)
 * arguments (as an Array)
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000050_source')" id="l_M000050_source">show</a>
                        
                        | <a href="http://github.com/davetron5000/gli/blob/268917d59a39f048a08c445f1ebcc26f18cc8833/lib/gli.rb#L193" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000050_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/gli.rb, line 193</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">parse_options</span>(<span class="ruby-identifier">args</span>,<span class="ruby-identifier">config</span>=<span class="ruby-keyword kw">nil</span>)
    <span class="ruby-identifier">command_configs</span> = {}
    <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">config</span>.<span class="ruby-identifier">nil?</span>
      <span class="ruby-identifier">config</span> = {}
    <span class="ruby-keyword kw">else</span>
      <span class="ruby-identifier">command_configs</span> = <span class="ruby-identifier">config</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-constant">GLI</span><span class="ruby-operator">::</span><span class="ruby-constant">InitConfig</span><span class="ruby-operator">::</span><span class="ruby-constant">COMMANDS_KEY</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">config</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-keyword kw">end</span>
    <span class="ruby-identifier">global_options</span>,<span class="ruby-identifier">command</span>,<span class="ruby-identifier">options</span>,<span class="ruby-identifier">arguments</span> = <span class="ruby-identifier">parse_options_helper</span>(<span class="ruby-identifier">args</span>.<span class="ruby-identifier">clone</span>,<span class="ruby-identifier">config</span>,<span class="ruby-keyword kw">nil</span>,<span class="ruby-constant">Options</span>.<span class="ruby-identifier">new</span>,<span class="ruby-constant">Array</span>.<span class="ruby-identifier">new</span>,<span class="ruby-identifier">command_configs</span>)
    <span class="ruby-identifier">flags</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">name</span>,<span class="ruby-identifier">flag</span><span class="ruby-operator">|</span> <span class="ruby-identifier">global_options</span>[<span class="ruby-identifier">name</span>] = <span class="ruby-identifier">flag</span>.<span class="ruby-identifier">default_value</span> <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">global_options</span>[<span class="ruby-identifier">name</span>] }
    <span class="ruby-identifier">command</span>.<span class="ruby-identifier">flags</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">name</span>,<span class="ruby-identifier">flag</span><span class="ruby-operator">|</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">name</span>] = <span class="ruby-identifier">flag</span>.<span class="ruby-identifier">default_value</span> <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">options</span>[<span class="ruby-identifier">name</span>] }
    <span class="ruby-keyword kw">return</span> [<span class="ruby-identifier">global_options</span>,<span class="ruby-identifier">command</span>,<span class="ruby-identifier">options</span>,<span class="ruby-identifier">arguments</span>]
  <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000060">
                    
                    <a name="M000060"></a><b>parse_options_helper</b>(args,global_options,command,command_options,arguments,command_configs)
                    
                </div>
                
                <div class="description">
                  <p>
Recursive helper for parsing command line options
</p>
<dl>
<dt>args</dt><dd>the arguments that have yet to be processed

</dd>
<dt>global_options</dt><dd>the global options hash

</dd>
<dt>command</dt><dd>the <a href="GLI/Command.html">Command</a> that has been identified (or nil
if not identified yet)

</dd>
<dt>command_options</dt><dd>options for <a href="GLI/Command.html">Command</a>

</dd>
<dt>arguments</dt><dd>the arguments for <a href="GLI/Command.html">Command</a>

</dd>
<dt>command_configs</dt><dd>the configuration file for all commands, used as defaults

</dd>
</dl>
<p>
This works by finding the first non-switch/flag argument, and taking that
sublist and trying to pick out flags and switches. After this is done, one
of the following is true:
</p>
<pre>
  * the sublist is empty - in this case, go again, as there might be more flags to parse
  * the sublist has a flag left in it - unknown flag; we bail
  * the sublist has a non-flag left in it - this is the command (or the start of the arguments list)
</pre>
<p>
This sort of does the same thing in two phases; in the first phase, the
command hasn&#8217;t been identified, so we are looking for global switches
and flags, ending when we get the command.
</p>
<p>
Once the command has been found, we start looking for command-specific
flags and switches. When those have been found, we know the rest of the
argument list is arguments for the command
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000060_source')" id="l_M000060_source">show</a>
                        
                        | <a href="http://github.com/davetron5000/gli/blob/268917d59a39f048a08c445f1ebcc26f18cc8833/lib/gli.rb#L253" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000060_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/gli.rb, line 253</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">parse_options_helper</span>(<span class="ruby-identifier">args</span>,<span class="ruby-identifier">global_options</span>,<span class="ruby-identifier">command</span>,<span class="ruby-identifier">command_options</span>,<span class="ruby-identifier">arguments</span>,<span class="ruby-identifier">command_configs</span>)
    <span class="ruby-identifier">non_flag_i</span> = <span class="ruby-identifier">find_non_flag_index</span>(<span class="ruby-identifier">args</span>)
    <span class="ruby-identifier">all_flags</span> = <span class="ruby-keyword kw">false</span>
    <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">non_flag_i</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
      <span class="ruby-comment cmt"># no flags</span>
      <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">command</span>
        <span class="ruby-identifier">command_name</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">shift</span>
        <span class="ruby-identifier">command</span> = <span class="ruby-identifier">find_command</span>(<span class="ruby-identifier">command_name</span>)
        <span class="ruby-identifier">raise</span> <span class="ruby-node">&quot;Unknown command '#{command_name}'&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">command</span>
        <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">parse_options_helper</span>(<span class="ruby-identifier">args</span>,
                                    <span class="ruby-identifier">global_options</span>,
                                    <span class="ruby-identifier">command</span>,
                                    <span class="ruby-identifier">default_command_options</span>(<span class="ruby-identifier">command</span>,<span class="ruby-identifier">command_configs</span>),
                                    <span class="ruby-identifier">arguments</span>,
                                    <span class="ruby-identifier">command_configs</span>)
      <span class="ruby-keyword kw">else</span>
        <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">global_options</span>,<span class="ruby-identifier">command</span>,<span class="ruby-identifier">command_options</span>,<span class="ruby-identifier">arguments</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">args</span>
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">non_flag_i</span> <span class="ruby-operator">==</span> <span class="ruby-value">-1</span>
      <span class="ruby-identifier">all_flags</span> = <span class="ruby-keyword kw">true</span>
    <span class="ruby-keyword kw">end</span>

    <span class="ruby-identifier">try_me</span> = <span class="ruby-identifier">args</span>[<span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-identifier">non_flag_i</span>]
    <span class="ruby-identifier">rest</span> = <span class="ruby-identifier">args</span>[(<span class="ruby-identifier">non_flag_i</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>)<span class="ruby-operator">..</span><span class="ruby-identifier">args</span>.<span class="ruby-identifier">length</span>]
    <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">all_flags</span>
      <span class="ruby-identifier">try_me</span> = <span class="ruby-identifier">args</span> 
      <span class="ruby-identifier">rest</span> = []
    <span class="ruby-keyword kw">end</span>

    <span class="ruby-comment cmt"># Suck up whatever options we can</span>
    <span class="ruby-identifier">switch_hash</span> = <span class="ruby-identifier">switches</span>
    <span class="ruby-identifier">flag_hash</span> = <span class="ruby-identifier">flags</span>
    <span class="ruby-identifier">options</span> = <span class="ruby-identifier">global_options</span>
    <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">command</span>
      <span class="ruby-identifier">switch_hash</span> = <span class="ruby-identifier">command</span>.<span class="ruby-identifier">switches</span>
      <span class="ruby-identifier">flag_hash</span> = <span class="ruby-identifier">command</span>.<span class="ruby-identifier">flags</span>
      <span class="ruby-identifier">options</span> = <span class="ruby-identifier">command_options</span>
    <span class="ruby-keyword kw">end</span>

    <span class="ruby-identifier">switch_hash</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span>,<span class="ruby-identifier">switch</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">value</span> = <span class="ruby-identifier">switch</span>.<span class="ruby-identifier">get_value!</span>(<span class="ruby-identifier">try_me</span>)
      <span class="ruby-identifier">options</span>[<span class="ruby-identifier">name</span>] = <span class="ruby-identifier">value</span> <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">options</span>[<span class="ruby-identifier">name</span>]
    <span class="ruby-keyword kw">end</span>

    <span class="ruby-identifier">flag_hash</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span>,<span class="ruby-identifier">flag</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">value</span> = <span class="ruby-identifier">flag</span>.<span class="ruby-identifier">get_value!</span>(<span class="ruby-identifier">try_me</span>)
      <span class="ruby-comment cmt"># So, there's a case where the first time we request the value for a flag,</span>
      <span class="ruby-comment cmt"># we get the default and not the user-provided value.  The next time we request</span>
      <span class="ruby-comment cmt"># it, we want to override it with the real value.</span>
      <span class="ruby-comment cmt"># HOWEVER, sometimes this happens in reverse, so we want to err on taking the</span>
      <span class="ruby-comment cmt"># user-provided, non-default value where possible.</span>
      <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">value</span> 
        <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">name</span>]
          <span class="ruby-identifier">options</span>[<span class="ruby-identifier">name</span>] = <span class="ruby-identifier">value</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">name</span>] <span class="ruby-operator">==</span> <span class="ruby-identifier">flag</span>.<span class="ruby-identifier">default_value</span>
        <span class="ruby-keyword kw">else</span>
          <span class="ruby-identifier">options</span>[<span class="ruby-identifier">name</span>] = <span class="ruby-identifier">value</span>
        <span class="ruby-keyword kw">end</span>
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span>

    <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">try_me</span>.<span class="ruby-identifier">empty?</span>
      <span class="ruby-keyword kw">return</span> [<span class="ruby-identifier">global_options</span>,<span class="ruby-identifier">command</span>,<span class="ruby-identifier">command_options</span>,<span class="ruby-identifier">arguments</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">rest</span>.<span class="ruby-identifier">empty?</span>
      <span class="ruby-comment cmt"># If we have no more options we've parsed them all</span>
      <span class="ruby-comment cmt"># and rest may have more</span>
      <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">parse_options_helper</span>(<span class="ruby-identifier">rest</span>,<span class="ruby-identifier">global_options</span>,<span class="ruby-identifier">command</span>,<span class="ruby-identifier">command_options</span>,<span class="ruby-identifier">arguments</span>,<span class="ruby-identifier">command_configs</span>)
    <span class="ruby-keyword kw">else</span>
      <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">command</span>
        <span class="ruby-identifier">check</span> = <span class="ruby-identifier">rest</span>
        <span class="ruby-identifier">check</span> = <span class="ruby-identifier">rest</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">try_me</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">all_flags</span> 
        <span class="ruby-identifier">check</span>.<span class="ruby-identifier">each</span>() <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">arg</span><span class="ruby-operator">|</span> 
          <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">arg</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/^\-\-$/</span>
            <span class="ruby-identifier">try_me</span>.<span class="ruby-identifier">delete</span> <span class="ruby-identifier">arg</span>
            <span class="ruby-keyword kw">break</span> 
          <span class="ruby-keyword kw">end</span>
          <span class="ruby-identifier">raise</span> <span class="ruby-node">&quot;Unknown argument #{arg}&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">arg</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/^\-/</span> 
        <span class="ruby-keyword kw">end</span>
        <span class="ruby-keyword kw">return</span> [<span class="ruby-identifier">global_options</span>,<span class="ruby-identifier">command</span>,<span class="ruby-identifier">command_options</span>,<span class="ruby-identifier">try_me</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">rest</span>]
      <span class="ruby-keyword kw">else</span>
        <span class="ruby-comment cmt"># Now we have our command name</span>
        <span class="ruby-identifier">command_name</span> = <span class="ruby-identifier">try_me</span>.<span class="ruby-identifier">shift</span>
        <span class="ruby-identifier">raise</span> <span class="ruby-node">&quot;Unknown argument #{command_name}&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">command_name</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/^\-/</span>

        <span class="ruby-identifier">command</span> = <span class="ruby-identifier">find_command</span>(<span class="ruby-identifier">command_name</span>)
        <span class="ruby-identifier">raise</span> <span class="ruby-node">&quot;Unknown command '#{command_name}'&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">command</span>

        <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">parse_options_helper</span>(<span class="ruby-identifier">rest</span>,
                                    <span class="ruby-identifier">global_options</span>,
                                    <span class="ruby-identifier">command</span>,
                                    <span class="ruby-identifier">default_command_options</span>(<span class="ruby-identifier">command</span>,<span class="ruby-identifier">command_configs</span>),
                                    <span class="ruby-identifier">arguments</span>,
                                    <span class="ruby-identifier">command_configs</span>)
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span>

  <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000042">
                    
                    <a name="M000042"></a><b>post</b>(&amp;a_proc)
                    
                </div>
                
                <div class="description">
                  <p>
Define a block to run after command hase been executed, only if there was
not an error. The block will receive the global-options,command,options,
and arguments
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000042_source')" id="l_M000042_source">show</a>
                        
                        | <a href="http://github.com/davetron5000/gli/blob/268917d59a39f048a08c445f1ebcc26f18cc8833/lib/gli.rb#L99" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000042_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/gli.rb, line 99</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">post</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">a_proc</span>)
    <span class="ruby-ivar">@@post_block</span> = <span class="ruby-identifier">a_proc</span>
  <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000041">
                    
                    <a name="M000041"></a><b>pre</b>(&amp;a_proc)
                    
                </div>
                
                <div class="description">
                  <p>
Define a block to run after command line arguments are parsed but before
any command is run. If this block raises an exception the command specified
will not be executed. The block will receive the
global-options,command,options, and arguments If this block evaluates to
true, the program will proceed; otherwise the program will end immediately
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000041_source')" id="l_M000041_source">show</a>
                        
                        | <a href="http://github.com/davetron5000/gli/blob/268917d59a39f048a08c445f1ebcc26f18cc8833/lib/gli.rb#L92" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000041_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/gli.rb, line 92</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">pre</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">a_proc</span>)
    <span class="ruby-ivar">@@pre_block</span> = <span class="ruby-identifier">a_proc</span>
  <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000049">
                    
                    <a name="M000049"></a><b>program_name</b>(override=nil)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000049_source')" id="l_M000049_source">show</a>
                        
                        | <a href="http://github.com/davetron5000/gli/blob/268917d59a39f048a08c445f1ebcc26f18cc8833/lib/gli.rb#L181" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000049_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/gli.rb, line 181</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">program_name</span>(<span class="ruby-identifier">override</span>=<span class="ruby-keyword kw">nil</span>)
    <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">override</span>
      <span class="ruby-ivar">@@program_name</span> = <span class="ruby-identifier">override</span>
    <span class="ruby-keyword kw">end</span>
    <span class="ruby-ivar">@@program_name</span>
  <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000032">
                    
                    <a name="M000032"></a><b>reset</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Reset the <a href="GLI.html">GLI</a> module internal data structures;
mostly for testing
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000032_source')" id="l_M000032_source">show</a>
                        
                        | <a href="http://github.com/davetron5000/gli/blob/268917d59a39f048a08c445f1ebcc26f18cc8833/lib/gli.rb#L25" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000032_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/gli.rb, line 25</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">reset</span>
    <span class="ruby-identifier">switches</span>.<span class="ruby-identifier">clear</span>
    <span class="ruby-identifier">flags</span>.<span class="ruby-identifier">clear</span>
    <span class="ruby-identifier">commands</span>.<span class="ruby-identifier">clear</span>
    <span class="ruby-ivar">@@version</span> = <span class="ruby-keyword kw">nil</span>
    <span class="ruby-ivar">@@config_file</span> = <span class="ruby-keyword kw">nil</span>
    <span class="ruby-identifier">clear_nexts</span>
  <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000045">
                    
                    <a name="M000045"></a><b>run</b>(args)
                    
                </div>
                
                <div class="description">
                  <p>
Runs whatever command is needed based on the arguments.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000045_source')" id="l_M000045_source">show</a>
                        
                        | <a href="http://github.com/davetron5000/gli/blob/268917d59a39f048a08c445f1ebcc26f18cc8833/lib/gli.rb#L117" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000045_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/gli.rb, line 117</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">run</span>(<span class="ruby-identifier">args</span>)
    <span class="ruby-identifier">rdoc</span> = <span class="ruby-constant">RDocCommand</span>.<span class="ruby-identifier">new</span>
    <span class="ruby-identifier">commands</span>[<span class="ruby-identifier">:rdoc</span>] = <span class="ruby-identifier">rdoc</span> <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">commands</span>[<span class="ruby-identifier">:rdoc</span>]
    <span class="ruby-identifier">commands</span>[<span class="ruby-identifier">:help</span>] = <span class="ruby-constant">DefaultHelpCommand</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@@version</span>,<span class="ruby-identifier">rdoc</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">commands</span>[<span class="ruby-identifier">:help</span>]
    <span class="ruby-keyword kw">begin</span>
      <span class="ruby-identifier">config</span> = <span class="ruby-identifier">parse_config</span>
      <span class="ruby-identifier">global_options</span>,<span class="ruby-identifier">command</span>,<span class="ruby-identifier">options</span>,<span class="ruby-identifier">arguments</span> = <span class="ruby-identifier">parse_options</span>(<span class="ruby-identifier">args</span>,<span class="ruby-identifier">config</span>)
      <span class="ruby-identifier">copy_options_to_aliased_versions</span>(<span class="ruby-identifier">global_options</span>,<span class="ruby-identifier">command</span>,<span class="ruby-identifier">options</span>)
      <span class="ruby-identifier">proceed</span> = <span class="ruby-keyword kw">true</span>
      <span class="ruby-identifier">proceed</span> = <span class="ruby-ivar">@@pre_block</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">global_options</span>,<span class="ruby-identifier">command</span>,<span class="ruby-identifier">options</span>,<span class="ruby-identifier">arguments</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@@pre_block</span> 
      <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">proceed</span>
        <span class="ruby-identifier">command</span> = <span class="ruby-identifier">commands</span>[<span class="ruby-identifier">:help</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">command</span>
        <span class="ruby-identifier">command</span>.<span class="ruby-identifier">execute</span>(<span class="ruby-identifier">global_options</span>,<span class="ruby-identifier">options</span>,<span class="ruby-identifier">arguments</span>)
        <span class="ruby-ivar">@@post_block</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">global_options</span>,<span class="ruby-identifier">command</span>,<span class="ruby-identifier">options</span>,<span class="ruby-identifier">arguments</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@@post_block</span> 
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">Exception</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">ex</span>
      <span class="ruby-identifier">regular_error_handling</span> = <span class="ruby-keyword kw">true</span>
      <span class="ruby-identifier">regular_error_handling</span> = <span class="ruby-ivar">@@error_block</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">ex</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@@error_block</span>

      <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">regular_error_handling</span>
        <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;error: #{ex.message}&quot;</span>
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span>
  <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000054">
                    
                    <a name="M000054"></a><b>s</b>(*names)
                    
                </div>
                
                <div class="description">
                  <p>
Alias for <a href="GLI.html#M000038">switch</a>
</p>

                </div>
                
                
                
            </div>
            
            <div class="method">
                <div class="title" id="M000038">
                    
                    <a name="M000038"></a><b>switch</b>(*names)
                    
                </div>
                
                <div class="description">
                  <p>
Create a switch
</p>

                </div>
                
                
                <div class="aka">
                    This method is also aliased as
                    
                    <a href="GLI.html#M000054">s</a>
                    
                </div>
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000038_source')" id="l_M000038_source">show</a>
                        
                        | <a href="http://github.com/davetron5000/gli/blob/268917d59a39f048a08c445f1ebcc26f18cc8833/lib/gli.rb#L58" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000038_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/gli.rb, line 58</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">switch</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">names</span>)
    <span class="ruby-identifier">names</span> = [<span class="ruby-identifier">names</span>].<span class="ruby-identifier">flatten</span>
    <span class="ruby-identifier">verify_unused</span>(<span class="ruby-identifier">names</span>,<span class="ruby-identifier">flags</span>,<span class="ruby-identifier">switches</span>,<span class="ruby-value str">&quot;in global options&quot;</span>)
    <span class="ruby-identifier">switch</span> = <span class="ruby-constant">Switch</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">names</span>,<span class="ruby-ivar">@@next_desc</span>,<span class="ruby-ivar">@@next_long_desc</span>)
    <span class="ruby-identifier">switches</span>[<span class="ruby-identifier">switch</span>.<span class="ruby-identifier">name</span>] = <span class="ruby-identifier">switch</span>
    <span class="ruby-identifier">clear_nexts</span>
  <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000058">
                    
                    <a name="M000058"></a><b>switches</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000058_source')" id="l_M000058_source">show</a>
                        
                        | <a href="http://github.com/davetron5000/gli/blob/268917d59a39f048a08c445f1ebcc26f18cc8833/lib/gli.rb#L231" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000058_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/gli.rb, line 231</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">switches</span>; <span class="ruby-ivar">@@switches</span> <span class="ruby-operator">||=</span> {}; <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000071">
                    
                    <a name="M000071"></a><b>verify_unused</b>(names,flags,switches,context)
                    
                </div>
                
                <div class="description">
                  <p>
Checks that the names passed in have not been used in another flag or
option
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000071_source')" id="l_M000071_source">show</a>
                        
                        | <a href="http://github.com/davetron5000/gli/blob/268917d59a39f048a08c445f1ebcc26f18cc8833/lib/gli.rb#L364" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000071_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/gli.rb, line 364</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">verify_unused</span>(<span class="ruby-identifier">names</span>,<span class="ruby-identifier">flags</span>,<span class="ruby-identifier">switches</span>,<span class="ruby-identifier">context</span>)
    <span class="ruby-identifier">names</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">verify_unused_in_option</span>(<span class="ruby-identifier">name</span>,<span class="ruby-identifier">flags</span>,<span class="ruby-value str">&quot;flag&quot;</span>,<span class="ruby-identifier">context</span>)
      <span class="ruby-identifier">verify_unused_in_option</span>(<span class="ruby-identifier">name</span>,<span class="ruby-identifier">switches</span>,<span class="ruby-value str">&quot;switch&quot;</span>,<span class="ruby-identifier">context</span>)
    <span class="ruby-keyword kw">end</span>
  <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M000044">
                    
                    <a name="M000044"></a><b>version</b>(version)
                    
                </div>
                
                <div class="description">
                  <p>
Indicate the version of your application
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M000044_source')" id="l_M000044_source">show</a>
                        
                        | <a href="http://github.com/davetron5000/gli/blob/268917d59a39f048a08c445f1ebcc26f18cc8833/lib/gli.rb#L112" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M000044_source" class="dyn-source">
                        <pre><span class="ruby-comment cmt"># File lib/gli.rb, line 112</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">version</span>(<span class="ruby-identifier">version</span>)
    <span class="ruby-ivar">@@version</span> = <span class="ruby-identifier">version</span>
  <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    